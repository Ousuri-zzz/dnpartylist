# üõ†Ô∏è plan/21c-guild-settings-ui.md

> ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ `/guild/settings` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏±‡∏ß‡∏Å‡∏¥‡∏•‡∏î‡πå  
> ‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏¥‡∏•‡∏î‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÅ‡∏•‡∏∞‡∏´‡∏±‡∏ß‡∏Å‡∏¥‡∏•‡∏î‡πå‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ô (‡πÑ‡∏ü‡∏•‡πå 21 ‡πÅ‡∏•‡∏∞ 21b)

---

## üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢

- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ `/guild/settings`
- ‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏ô‡∏Å‡∏¥‡∏•‡∏î‡πå (‡∏à‡∏≤‡∏Å /guild/members)
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏±‡∏ß‡∏Å‡∏¥‡∏•‡∏î‡πå‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤
- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£:
  - ‡∏•‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
  - ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤
  - ‡∏£‡∏∞‡∏á‡∏±‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤

---

## üß© Step 1: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏´‡∏±‡∏ß‡∏Å‡∏¥‡∏•‡∏î‡πå‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏™‡∏î‡∏á

```ts
const uid = auth.currentUser?.uid
const leaderRef = ref(db, `guild/leaders/${uid}`)
const isLeader = (await get(leaderRef)).exists()

if (!isLeader) {
  return <p>‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ</p>
}
```

---

## üë• Step 2: ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á

‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å `/guild/members`:

```ts
ref(db, "guild/members")
```

‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô Table:
| Discord | UID | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° | ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å |
|---------|-----|----------------|-----------|
| Tester  | xxx | 2025-05-04     | [‡∏•‡∏ö]      |

---

## üßπ Step 3: ‡∏õ‡∏∏‡πà‡∏° ‚Äú‡∏•‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‚Äù (Hard Delete)

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏±‡∏ß‡∏Å‡∏¥‡∏•‡∏î‡πå‡∏Å‡∏î ‚Äú‡∏•‡∏ö‚Äù:
- ‡πÅ‡∏™‡∏î‡∏á Modal ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô
- ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
```ts
remove(ref(db, `users/${uid}`))
remove(ref(db, `tradeMerchants/${uid}`))
remove(ref(db, `guild/members/${uid}`))
```

---

## üõí Step 4: ‡πÅ‡∏™‡∏î‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏û‡πà‡∏≠‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥

‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• `/tradeMerchants` ‡∏ó‡∏µ‡πà `status === "pending"`

| UID | Discord | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ | ‡∏õ‡∏∏‡πà‡∏° |
|-----|---------|--------|------|
| xxx | Tester  | pending | [‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥] [‡∏£‡∏∞‡∏á‡∏±‡∏ö] |

‡∏õ‡∏∏‡πà‡∏°:
```ts
update(ref(db, `tradeMerchants/${uid}`), { status: "active" })
update(ref(db, `tradeMerchants/${uid}`), { status: "suspended" })
```

---

## üß≠ Step 5: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á `/guild/settings` ‡πÉ‡∏ô Navbar (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏´‡∏±‡∏ß‡∏Å‡∏¥‡∏•‡∏î‡πå)

```ts
if (isLeader) {
  return <Link href="/guild/settings">Guild Settings</Link>
}
```

---

## ‚úÖ ‡∏™‡∏£‡∏∏‡∏õ UI ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ `/guild/settings`

- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏´‡∏±‡∏ß‡∏Å‡∏¥‡∏•‡∏î‡πå
- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å + ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏ö
- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ + ‡∏õ‡∏∏‡πà‡∏°‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
- Toast ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

---

## üî∞ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≥‡∏ï‡πà‡∏≠

- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏Å‡∏¥‡∏•‡∏î‡πå (plan/22)
- ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° / ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®
