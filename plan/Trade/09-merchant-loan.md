## üíº ‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏π‡πâ‡∏¢‡∏∑‡∏°‡∏à‡∏≤‡∏Å‡∏û‡πà‡∏≠‡∏Ñ‡πâ‡∏≤ (Merchant Loan System)

‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡∏≠‡∏¢‡∏∑‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏≤‡∏Å‡∏û‡πà‡∏≠‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏î‡πâ ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô 2 ‡∏ä‡∏±‡πâ‡∏ô (‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏¢‡∏∑‡∏°‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏¢‡∏∑‡∏°) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô

---

## ‚úÖ ‡πÇ‡∏ü‡∏•‡∏ß‡πå‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏π‡πâ‡∏¢‡∏∑‡∏°‡∏à‡∏≤‡∏Å‡∏û‡πà‡∏≠‡∏Ñ‡πâ‡∏≤

### 1. ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡πà‡∏≠‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏Ç‡∏≠‡∏¢‡∏∑‡∏°‡πÄ‡∏á‡∏¥‡∏ô

* ‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤ `/trade/[merchantId]`
* ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏Ç‡∏≠‡∏¢‡∏∑‡∏°‡πÄ‡∏á‡∏¥‡∏ô"
* ‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô + ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡∏±‡∏ô‡∏Ñ‡∏∑‡∏ô (optional)
* ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á entry ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô `/guildLoans/[loanId]` ‡πÇ‡∏î‡∏¢‡∏£‡∏∞‡∏ö‡∏∏ `source.type = merchant`
* status: `waitingApproval`
* ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô `/feed/merchant/[merchantId]/loan` ‡πÅ‡∏•‡∏∞ `/feed/all`

### 2. ‡∏û‡πà‡∏≠‡∏Ñ‡πâ‡∏≤‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏≥‡∏Ç‡∏≠

* ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
* ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡πà‡∏≠‡∏Ñ‡πâ‡∏≤‡∏Å‡∏î‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô ‚Üí status = `active`
* ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ô feed
* ‡∏´‡∏≤‡∏Å‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò ‚Üí ‡∏•‡∏ö‡∏´‡∏£‡∏∑‡∏≠ mark `status = rejected`

### 3. ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Å‡∏î‡πÅ‡∏à‡πâ‡∏á‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏á‡∏¥‡∏ô

* ‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤ `/loan/me`
* ‡∏Å‡∏î "‡πÅ‡∏à‡πâ‡∏á‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß"
* status = `returned`
* ‡∏Ç‡∏∂‡πâ‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô feed ‡∏£‡∏ß‡∏°‡πÅ‡∏•‡∏∞ feed ‡∏û‡πà‡∏≠‡∏Ñ‡πâ‡∏≤

### 4. ‡∏û‡πà‡∏≠‡∏Ñ‡πâ‡∏≤‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∑‡∏ô

* ‡∏û‡πà‡∏≠‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤ `/trade/confirm/loan`
* ‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏à‡πâ‡∏á‡∏Ñ‡∏∑‡∏ô
* ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‚Üí status = `completed`
* Feed ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå ‡∏û‡∏£‡πâ‡∏≠‡∏° timestamp
* ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• **‡πÑ‡∏°‡πà‡∏•‡∏ö‡∏≠‡∏≠‡∏Å** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏á‡πÑ‡∏ß‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥

---

## üßæ ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Data Schema)

```json
/guildLoans/[loanId] {
  source: {
    type: "merchant",
    merchantId: "uid"
  },
  borrowerId: "discord_uid",
  borrowerName: "Yuki",
  amount: 300,
  dueDate: "2025-05-20",
  status: "waitingApproval", // active, returned, completed
  createdAt: timestamp,
  updatedAt: timestamp
}
```

---

## üìë Feed ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô

* ‡∏ó‡∏∏‡∏Å‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°‡∏à‡∏∞‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏•‡∏á Feed:

  * `/feed/merchant/[merchantId]/loan`
  * `/feed/all`
* ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°:

  * `@Yuki ‡∏Ç‡∏≠‡∏¢‡∏∑‡∏° 300G ‡∏à‡∏≤‡∏Å‡∏£‡πâ‡∏≤‡∏ô @Ousuri`
  * `@Ousuri ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏π‡πâ‡πÉ‡∏´‡πâ @Yuki`
  * `@Yuki ‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß`
  * `@Ousuri ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‚úÖ`

---

## üí° ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤

* ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏π‡πâ‡∏¢‡∏∑‡∏°‡∏à‡∏≤‡∏Å‡∏Å‡∏¥‡∏•‡∏î‡πå‡πÅ‡∏ï‡πà‡πÉ‡∏ä‡πâ merchant ‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
* ‡πÉ‡∏ä‡πâ‡∏´‡∏ô‡πâ‡∏≤ `/trade/[merchantId]` ‡πÅ‡∏•‡∏∞ `/trade/confirm/loan` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
* Feed ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
