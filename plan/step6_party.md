# 🧑‍🤝‍🧑 DNPartyList – Prompt ระบบหน้า /party (รวมปาร์ตี้ทั้งหมด)

คำอธิบายอย่างละเอียดสำหรับ Cursor เพื่อสร้างหน้า `/party` ที่แสดงรายการปาร์ตี้ทั้งหมดที่ถูกสร้างโดยทุกคน พร้อมจัดแสดงข้อมูลแบบอ่านง่าย ตามแผนที่ออกแบบไว้

---

## ✅ เป้าหมายของระบบ

- แสดงปาร์ตี้ทั้งหมดในระบบแบบการ์ด (Card UI)
- ปาร์ตี้แสดงแบบ Grid อยู่กลางหน้าจอ สวยงาม น่าใช้งาน
- มี sidebar ด้านขวาแสดงรายชื่อผู้ใช้ทั้งหมดและตัวละครทั้งหมด (grouped by Discord)
- สามารถกดปุ่มเพื่อ “สร้างปาร์ตี้ใหม่” ได้ทันทีผ่าน modal

---

## 📦 โครงสร้างข้อมูลปาร์ตี้

```json
parties: {
  [partyId]: {
    nest: "Cerberus Hell",
    leader: "[uid]",
    members: {
      [charId]: true
    },
    maxMember: 4,
    createdAt: timestamp
  }
}
```

---

## 🧱 โครงสร้างหน้า `/party`

### 🔳 Grid ปาร์ตี้
- กลางจอ → แสดง Card ของปาร์ตี้ทั้งหมดที่ถูกสร้างไว้
- จัดเรียงแบบ 2–3 แถว (responsive)
- ข้อมูลที่แสดงในแต่ละการ์ด:
  - ชื่อเนสต์ (Nest)
  - จำนวนสมาชิก / จำนวนสูงสุด
  - รายชื่อผู้เล่นในปาร์ตี้ (เฉพาะชื่อ Discord)
  - ปุ่ม “ดูรายละเอียด” → ลิงก์ไปหน้า `/party/[id]`

### 👤 Sidebar ด้านขวา
- แสดงรายชื่อผู้ใช้ทั้งหมด (ตามชื่อ Discord)
- ใต้แต่ละชื่อ → แสดงตัวละครที่เป็นของ user นั้นทั้งหมด (ชื่อ + อาชีพ)
- คลิกชื่อ Discord → แสดง popup รวม CharacterCard ของคนนั้น

---

## ➕ ปุ่ม “+ สร้างปาร์ตี้”

- อยู่ด้านบนซ้ายของหน้า `/party`
- เมื่อกด → เปิด modal กลางจอ
- ให้ผู้ใช้เลือก:
  1. เนสต์เป้าหมาย (จากรายการที่รองรับ)
  2. ตัวละครของตนเองที่จะใช้ในปาร์ตี้นี้

- เมื่อสร้างสำเร็จ → เขียนข้อมูลใหม่ไปที่ `parties/[id]`
- ตัวละครที่เลือกต้องไม่อยู่ในปาร์ตี้อื่นของเนสต์เดียวกัน

---

## 🎨 UI/UX ที่ต้องการ

- Card ใช้พื้นหลัง pastel สีจาง, ปุ่มใหญ่, readable
- ใช้ Font: Prompt หรือ Noto Sans Thai
- ปุ่มสร้างปาร์ตี้มี icon + โค้งมน + shadow
- Sidebar ต้อง scroll ได้ และวางขอบจอขวา

---

## 🧠 หมายเหตุสำหรับ Cursor

- ต้องเชื่อมข้อมูลทุกปาร์ตี้จาก Firebase โดยใช้ listener (`onValue`)
- ข้อมูลตัวละครแต่ละคน ดึงจาก `users/[uid]/characters` โดยใช้ `members` ของแต่ละปาร์ตี้ในการ map
- Popup เมื่อกดชื่อ Discord ต้องแสดง CharacterCard ของเจ้าของแบบอ่านง่าย